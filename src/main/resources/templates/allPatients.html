<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Тестовое задание</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<div style="width: 70%; margin: auto; padding-top: 2%;">
    <h1 style="display: inline;">Список пациентов</h1>
    <button type="button" class="btn btn-dark"
            style="display: inline; position: relative; float: right; margin-top: 2%;"><a href="/addPatient" style="text-decoration: none; color: white;">
        Добавить пациента</a></button>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Фамилия</th>
            <th scope="col">Имя</th>
            <th scope="col">Отчество</th>
            <th scope="col">Телефон</th>
            <th scope="col">Адрес</th>
        </tr>
        </thead>
        <tbody>
        <!--/*@thymesVar id="patients" type="java.util.List"*/-->
        <!--/*@thymesVar id="patient" type="com.diagcenter.testwork.PatientEntity"*/-->
        <tr th:each="patient : ${patients}">
            <td th:utext="${patient.getFirstName()}"></td>
            <td th:utext="${patient.getSecondName()}"></td>
            <td th:utext="${patient.getThirdName()}"></td>
            <td th:utext="${patient.getPhone()}"></td>
            <td th:utext="${patient.getAddress()}"></td>
            <td>
                <button type="button" class="btn btn-outline-danger"
                        th:attr="onclick='javascript:setId(\'' + ${patient.getID()} + '\')'"
                        style="display: inline; position: relative; float: right; border: 3px solid"
                        data-bs-toggle="modal" data-bs-target="#exampleModal">
                    Удалить
                    <!--                        <a th:href="@{/deleteService/id={serviceId}/(serviceId=${service.id})}">Удалить</a>-->
                </button>
                <button type="button" class="btn btn-outline-dark"
                        style="display: inline; position: relative; float: right; border: 3px solid; margin-right: 2%;">
                    <a th:href="@{/editPatient/{id}/(id=${patient.getID()})}"
                       style="text-decoration: none; color: black;">Редактировать</a></button>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Внимание</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Вы действительно хотите удалить запись?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-danger" onclick="deletePatient()">Удалить</button>
            </div>
        </div>
    </div>
</div>
<script src="/deleteScript.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>
</html>